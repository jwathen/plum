/*!
* jQuery UI Touch Punch Improved 0.3.1
*
*
* Copyright 2013, Chris Hutchinson <chris@brushd.com>
* Original jquery-ui-touch-punch Copyright 2011, Dave Furfero
* Dual licensed under the MIT or GPL Version 2 licenses.
*
* Depends:
* jquery.ui.widget.js
* jquery.ui.mouse.js
*/
(function(n){typeof define=="function"&&define.amd?define(["jquery","jquery.ui"],n):n(jQuery)})(function(n){function e(n){var r=window.pageXOffset,u=window.pageYOffset,t=n.clientX,i=n.clientY;return n.pageY===0&&Math.floor(i)>Math.floor(n.pageY)||n.pageX===0&&Math.floor(t)>Math.floor(n.pageX)?(t=t-r,i=i-u):(i<n.pageY-u||t<n.pageX-r)&&(t=n.pageX-r,i=n.pageY-u),{clientX:t,clientY:i}}function t(t,i){if((r||!(t.originalEvent.touches.length>1))&&(!r||t.isPrimary)){var u=r?t.originalEvent:t.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents"),o=e(u);n(u.target).is("input")||n(u.target).is("textarea")?t.stopPropagation():t.preventDefault();f.initMouseEvent(i,!0,!0,window,1,t.screenX||u.screenX,t.screenY||u.screenY,t.clientX||o.clientX,t.clientY||o.clientY,!1,!1,!1,!1,0,null);t.target.dispatchEvent(f)}}var r=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,i,f,u;(n.support.touch="ontouchend"in document||r,n.support.touch&&n.ui.mouse)&&(i=n.ui.mouse.prototype,f=i._mouseInit,i._touchStart=function(n){var i=this;!u&&(r||i._mouseCapture(n.originalEvent.changedTouches[0]))&&(u=!0,i._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))},i._touchMove=function(n){u&&(this._touchMoved=!0,t(n,"mousemove"))},i._touchEnd=function(n){u&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),u=!1)},i._mouseInit=function(){var t=this;t.element.on({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd"),pointerDown:n.proxy(t,"_touchStart"),pointerMove:n.proxy(t,"_touchMove"),pointerUp:n.proxy(t,"_touchEnd"),MSPointerDown:n.proxy(t,"_touchStart"),MSPointerMove:n.proxy(t,"_touchMove"),MSPointerUp:n.proxy(t,"_touchEnd")});f.call(t)})});